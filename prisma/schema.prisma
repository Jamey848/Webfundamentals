generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:D1t1s33nP4sw00rd@localhost:3306/shopchapdatabase"
}

model category {
  categoryID   Int       @id @default(autoincrement())
  categoryname String    @db.VarChar(255)
  product      product[]
}

model product {
  productID   Int       @id @default(autoincrement())
  productname String?   @db.VarChar(255)
  categoryID  Int
  category    category  @relation(fields: [categoryID], references: [categoryID], onDelete: NoAction, onUpdate: NoAction, map: "product_ibfk_1")
  receipt     receipt[]

  @@index([categoryID], map: "categoryID")
}

model receipt {
  receiptID    Int            @id @default(autoincrement())
  productID    Int
  storeID      Int
  unitID       Int
  price        Decimal?       @db.Decimal(10, 2)
  quantity     Int?
  quantifier   Int?
  product      product        @relation(fields: [productID], references: [productID], onDelete: NoAction, onUpdate: NoAction, map: "receipt_ibfk_1")
  store        store          @relation(fields: [storeID], references: [storeID], onDelete: NoAction, onUpdate: NoAction, map: "receipt_ibfk_2")
  unit         unit           @relation(fields: [unitID], references: [unitID], onDelete: NoAction, onUpdate: NoAction, map: "receipt_ibfk_3")
  shoppingnode shoppingnode[]

  @@index([productID], map: "productID")
  @@index([storeID], map: "storeID")
  @@index([unitID], map: "unitID")
}

model shoppingnode {
  shoppingnodeID   Int       @id @default(autoincrement())
  usersID          Int
  receiptID        Int
  shoppingnodename String?   @db.VarChar(255)
  shoppingdate     DateTime? @db.Date
  futurepurchase   Boolean?
  users            users     @relation(fields: [usersID], references: [usersID], onDelete: NoAction, onUpdate: NoAction, map: "shoppingnode_ibfk_1")
  receipt          receipt   @relation(fields: [receiptID], references: [receiptID], onDelete: NoAction, onUpdate: NoAction, map: "shoppingnode_ibfk_2")

  @@index([receiptID], map: "receiptID")
  @@index([usersID], map: "usersID")
}

model store {
  storeID   Int       @id @default(autoincrement())
  storename String?   @db.VarChar(255)
  receipt   receipt[]
}

model unit {
  unitID   Int       @id @default(autoincrement())
  unitname String    @db.VarChar(255)
  receipt  receipt[]
}

model users {
  usersID      Int            @id @default(autoincrement())
  username     String         @db.VarChar(255)
  userpassword String         @db.VarChar(255)
  gmail        String         @db.VarChar(255)
  budget       Decimal?       @db.Decimal(10, 2)
  permission   Int
  shoppingnode shoppingnode[]
}
